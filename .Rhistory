install.packages("reticulate")
library(reticulate)
system("python analysis/study_definition.py")
system("python analysis/study_definition.py")
library('tidyverse')
df_input <- read_csv(
here::here("output", "input.csv"),
col_types = cols(patient_id = col_integer(),age = col_double())
)
plot_age <- ggplot(data=df_input, aes(df_input$age)) + geom_histogram()
ggsave(
plot= plot_age,
filename="descriptive.png", path=here::here("output"),
)
head(df_input)
library('tidyverse')
df_input <- read_csv(
here::here("output", "input.csv"),
col_types = cols(patient_id = col_integer(),age = col_double())
)
head(df_input)
class(df_input)
colnames(df_input)
df_input$age_c <- ifelse(df_input$age<80,1,0)
head(df_input)
data <- df_input[df_input$age_c==1]
summary(df_input$age_c)
library('tidyverse')
class(df_input$age_c)
data <- df_input[df_input$age_c==1]
data <- df_input[df_input$age_c==1,]
head(data)
nrow(data)
nrow(df_input)
data80 <- df_input[df_input$age_c==0,]
nrow(data80)
summary(data$last_ambulatory_systolic_bp_measure)
summary(data$last_systolic_bp_measure)
summary(data$last_ambulatory_systolic_bp_measure_narrow)
data$bp140 <- ifelse(data$last_ambulatory_systolic_bp_measure<140,1,0)
data$ambp140 <- ifelse(data$last_ambulatory_systolic_bp_measure<140,1,0)
head(data)
summary(as.factor(data$ambp140))
summary(as.factor(data$bp140))
data$ambp140 <- ifelse(data$last_ambulatory_systolic_bp_measure_narrow<140,1,0)
summary(as.factor(data$ambp140))
data$ambp135 <- ifelse(data$last_ambulatory_systolic_bp_measure_narrow<135,1,0)
summary(as.factor(data$ambp135))
summary(data80$last_systolic_bp_measure)
summary(data80$last_ambulatory_systolic_bp_measure)
summary(data80$last_ambulatory_systolic_bp_measure_narrow)
data80$bp150 <- ifelse(data80$last_ambulatory_systolic_bp_measure<150,1,0)
data80$ambp150 <- ifelse(data80$last_ambulatory_systolic_bp_measure_narrow<150,1,0)
data$ambp145 <- ifelse(data$last_ambulatory_systolic_bp_measure_narrow<145,1,0)
summary(as.factor(data80$ambp150))
summary(as.factor(data$ambp145))
summary(as.factor(data80$bp150))
data80$bp150 <- ifelse(data80$last_ambulatory_systolic_bp_measure<150,1,0)
data80$ambp150 <- ifelse(data80$last_ambulatory_systolic_bp_measure_narrow<150,1,0)
data80$ambp145 <- ifelse(data80$last_ambulatory_systolic_bp_measure_narrow<145,1,0)
summary(as.factor(data80$ambp150))
summary(as.factor(data80$ambp145))
summary(as.factor(data80$bp150))
